# ğŸ± à¸Ÿà¸¹à¸à¸¸à¹à¸¡à¸§à¸‚à¸²à¸§ - Personal Finance Manager

à¹à¸­à¸›à¸ˆà¸±à¸”à¸à¸²à¸£à¹€à¸‡à¸´à¸™à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§à¸—à¸µà¹ˆà¸™à¹ˆà¸²à¸£à¸±à¸à¸—à¸µà¹ˆà¸ªà¸¸à¸” à¸à¸£à¹‰à¸­à¸¡à¹à¸¡à¸§à¸™à¹‰à¸­à¸¢à¸Šà¹ˆà¸§à¸¢à¸”à¸¹à¹à¸¥à¸à¸²à¸£à¹€à¸‡à¸´à¸™à¸‚à¸­à¸‡à¸„à¸¸à¸“à¸œà¹ˆà¸²à¸™ LINE Bot à¹à¸¥à¸° Web Dashboard à¸—à¸µà¹ˆà¸ªà¸§à¸¢à¸‡à¸²à¸¡

## ğŸš€ à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

### 1. à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¹à¸¥à¸°à¸£à¸±à¸™à¹à¸­à¸›
```bash
# à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ dependencies
npm install

# à¸£à¸±à¸™à¹à¸­à¸›
npm run dev
```

### 2. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² LINE Bot (Development)
```bash
# à¸—à¸”à¸ªà¸­à¸š webhook à¸à¹ˆà¸­à¸™
npm run test-webhook

# à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² ngrok à¹à¸¥à¸° LINE Bot
npm run setup-line
```

### 3. Deploy à¸šà¸™ Vercel (Production)
```bash
# Build à¹à¸¥à¸° deploy
npm run build
npm run deploy

# à¸—à¸”à¸ªà¸­à¸š production
npm run test-production https://your-app.vercel.app
```

### 4. à¹€à¸›à¸´à¸”à¹ƒà¸Šà¹‰à¸‡à¸²à¸™
- ğŸŒ **Web Dashboard**: 
  - Development: http://localhost:3002
  - Production: https://your-app.vercel.app
- ğŸ¤– **LINE Bot**: à¸ªà¹à¸à¸™ QR Code à¸ˆà¸²à¸ LINE Developers Console

## âœ¨ à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´à¸«à¸¥à¸±à¸

### ğŸ†“ à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸Ÿà¸£à¸µ (Free Tier)
- ğŸ“ à¸šà¸±à¸™à¸—à¸¶à¸à¸£à¸²à¸¢à¸£à¸±à¸š-à¸ˆà¹ˆà¸²à¸¢à¹„à¸¡à¹ˆà¸ˆà¸³à¸à¸±à¸”à¸œà¹ˆà¸²à¸™ LINE Bot
- ğŸŒ Web Dashboard à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§
- ğŸ“Š à¸ªà¸£à¸¸à¸›à¸ à¸²à¸à¸£à¸§à¸¡à¸à¸·à¹‰à¸™à¸à¸²à¸™
- ğŸ“‚ à¸ˆà¸±à¸”à¸à¸²à¸£à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ
- ğŸ¯ à¸•à¸±à¹‰à¸‡à¸‡à¸šà¸›à¸£à¸°à¸¡à¸²à¸“
- ğŸš€ à¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¸œà¹ˆà¸²à¸™ LINE

### ğŸ’ à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸à¸£à¸µà¹€à¸¡à¸µà¸¢à¸¡ (Premium Tier)
- ğŸ“· à¸­à¹ˆà¸²à¸™à¸ªà¸¥à¸´à¸›à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´ (OCR)
- ğŸ“ˆ à¸£à¸²à¸¢à¸‡à¸²à¸™à¹à¸¥à¸°à¸à¸²à¸£à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸‚à¸±à¹‰à¸™à¸ªà¸¹à¸‡
- ğŸ“„ Export à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸›à¹‡à¸™ Excel/CSV
- ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family Sharing
- ğŸš« à¹„à¸¡à¹ˆà¸¡à¸µà¹‚à¸†à¸©à¸“à¸²

## ğŸ—ï¸ à¸ªà¸–à¸²à¸›à¸±à¸•à¸¢à¸à¸£à¸£à¸¡

- **Frontend**: Next.js 15 with TypeScript
- **Backend**: Next.js API Routes (Serverless Functions)
- **Database**: PostgreSQL (Supabase)
- **Hosting**: Vercel
- **LINE Integration**: LINE Messaging API

## ğŸš€ à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¹à¸¥à¸°à¸£à¸±à¸™à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ

### 1. Clone repository
```bash
git clone https://github.com/komkemkku/Fuku-Maew-Khao.git
cd fukuneko-app
```

### 2. à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Dependencies
```bash
npm install
```

### 3. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Environment Variables
à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ `.env.local` à¹à¸¥à¸°à¹€à¸à¸´à¹ˆà¸¡à¸„à¹ˆà¸²à¸•à¹ˆà¸­à¹„à¸›à¸™à¸µà¹‰:

```env
# LINE Bot Configuration
LINE_CHANNEL_ACCESS_TOKEN=your_line_channel_access_token
LINE_CHANNEL_SECRET=your_line_channel_secret

# Database Configuration (Supabase)
DATABASE_URL=your_postgresql_connection_string

# App Configuration
APP_URL=http://localhost:3000
```

### 4. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
à¸£à¸±à¸™à¸„à¸³à¸ªà¸±à¹ˆà¸‡ SQL à¹ƒà¸™à¹„à¸Ÿà¸¥à¹Œ `database/schema.sql` à¹ƒà¸™à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ PostgreSQL à¸‚à¸­à¸‡à¸„à¸¸à¸“

### 5. à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™ Development Server
```bash
npm run dev
```

à¹€à¸›à¸´à¸”à¹€à¸šà¸£à¸²à¸§à¹Œà¹€à¸‹à¸­à¸£à¹Œà¹„à¸›à¸—à¸µà¹ˆ [http://localhost:3000](http://localhost:3000)

## ğŸ“± à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ LINE Bot

### à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸à¸·à¹‰à¸™à¸à¸²à¸™:
- **à¸šà¸±à¸™à¸—à¸¶à¸à¸£à¸²à¸¢à¸à¸²à¸£**: `50 à¸„à¹ˆà¸²à¸à¸²à¹à¸Ÿ`, `à¸„à¹ˆà¸²à¸­à¸²à¸«à¸²à¸£ 120`, `500 à¹€à¸‡à¸´à¸™à¹€à¸”à¸·à¸­à¸™`
- **à¸”à¸¹à¸ªà¸£à¸¸à¸›**: `à¸ªà¸£à¸¸à¸›` à¸«à¸£à¸·à¸­ `summary`
- **à¸”à¸¹à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ**: `à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ` à¸«à¸£à¸·à¸­ `categories`
- **à¸”à¸¹à¸‡à¸šà¸›à¸£à¸°à¸¡à¸²à¸“**: `à¸‡à¸šà¸›à¸£à¸°à¸¡à¸²à¸“` à¸«à¸£à¸·à¸­ `budget`
- **à¸„à¸§à¸²à¸¡à¸Šà¹ˆà¸§à¸¢à¹€à¸«à¸¥à¸·à¸­**: `à¸Šà¹ˆà¸§à¸¢à¹€à¸«à¸¥à¸·à¸­`, `help`, à¸«à¸£à¸·à¸­ `à¸§à¸´à¸˜à¸µà¹ƒà¸Šà¹‰`

### à¸£à¸¹à¸›à¹à¸šà¸šà¸à¸²à¸£à¸šà¸±à¸™à¸—à¸¶à¸à¸£à¸²à¸¢à¸à¸²à¸£:
```
50 à¸„à¹ˆà¸²à¸à¸²à¹à¸Ÿ
à¸„à¹ˆà¸²à¸­à¸²à¸«à¸²à¸£ 120 à¸šà¸²à¸—
500 à¸šà¸²à¸— à¹€à¸‡à¸´à¸™à¹€à¸”à¸·à¸­à¸™
100
```

## ğŸ—„ï¸ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥

### à¸•à¸²à¸£à¸²à¸‡ `users`
- `id`: UUID (Primary Key)
- `line_user_id`: TEXT (Unique, LINE User ID)
- `display_name`: TEXT (à¸Šà¸·à¹ˆà¸­à¹à¸ªà¸”à¸‡à¸œà¸¥)
- `subscription_plan`: TEXT (free/premium)
- `created_at`: TIMESTAMPTZ

### à¸•à¸²à¸£à¸²à¸‡ `categories`
- `id`: UUID (Primary Key)
- `user_id`: UUID (Foreign Key â†’ users.id)
- `name`: TEXT (à¸Šà¸·à¹ˆà¸­à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ)
- `type`: TEXT (income/expense)
- `budget_amount`: NUMERIC (à¸‡à¸šà¸›à¸£à¸°à¸¡à¸²à¸“)
- `created_at`: TIMESTAMPTZ

### à¸•à¸²à¸£à¸²à¸‡ `transactions`
- `id`: UUID (Primary Key)
- `user_id`: UUID (Foreign Key â†’ users.id)
- `category_id`: UUID (Foreign Key â†’ categories.id)
- `amount`: NUMERIC (à¸ˆà¸³à¸™à¸§à¸™à¹€à¸‡à¸´à¸™)
- `description`: TEXT (à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢)
- `transaction_date`: DATE (à¸§à¸±à¸™à¸—à¸µà¹ˆà¸£à¸²à¸¢à¸à¸²à¸£)
- `created_at`: TIMESTAMPTZ

## ğŸ“ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ

```
fukuneko-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ webhook/          # LINE Bot webhook
â”‚   â”‚   â”‚   â”œâ”€â”€ summary/          # API à¸ªà¸£à¸¸à¸›à¸£à¸²à¸¢à¹€à¸”à¸·à¸­à¸™
â”‚   â”‚   â”‚   â””â”€â”€ transactions/     # API à¸ˆà¸±à¸”à¸à¸²à¸£à¸£à¸²à¸¢à¸à¸²à¸£
â”‚   â”‚   â”œâ”€â”€ dashboard/            # à¸«à¸™à¹‰à¸² Dashboard
â”‚   â”‚   â”œâ”€â”€ page.tsx              # à¸«à¸™à¹‰à¸²à¹à¸£à¸ (Landing page)
â”‚   â”‚   â””â”€â”€ layout.tsx            # Layout à¸«à¸¥à¸±à¸
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ dashboard/
â”‚   â”‚       â””â”€â”€ DashboardContent.tsx
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ db.ts                 # à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
â”‚   â”‚   â”œâ”€â”€ database.ts           # Database service functions
â”‚   â”‚   â””â”€â”€ line-service.ts       # LINE Bot service functions
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ index.ts              # TypeScript type definitions
â”œâ”€â”€ database/
â”‚   â””â”€â”€ schema.sql                # à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
â”œâ”€â”€ package.json
â”œâ”€â”€ next.config.ts
â”œâ”€â”€ tailwind.config.ts
â””â”€â”€ tsconfig.json
```

## ğŸ”§ API Endpoints

### `/api/webhook` (POST)
- à¸£à¸±à¸š webhook events à¸ˆà¸²à¸ LINE
- à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹à¸¥à¸°à¸•à¸­à¸šà¸à¸¥à¸±à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰

### `/api/summary` (GET)
- à¸”à¸¶à¸‡à¸ªà¸£à¸¸à¸›à¸£à¸²à¸¢à¹€à¸”à¸·à¸­à¸™à¸‚à¸­à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- Parameters: `userId`, `year`, `month`

### `/api/transactions` (GET/POST)
- GET: à¸”à¸¶à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸˜à¸¸à¸£à¸à¸£à¸£à¸¡à¸‚à¸­à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- POST: à¸ªà¸£à¹‰à¸²à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸˜à¸¸à¸£à¸à¸£à¸£à¸¡à¹ƒà¸«à¸¡à¹ˆ

## ğŸš€ Deployment

### Vercel Deployment
1. Connect GitHub repository à¹„à¸›à¸¢à¸±à¸‡ Vercel
2. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Environment Variables à¹ƒà¸™ Vercel Dashboard
3. Deploy à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¸—à¸¸à¸à¸„à¸£à¸±à¹‰à¸‡à¸—à¸µà¹ˆ push code

### LINE Bot Setup
1. à¸ªà¸£à¹‰à¸²à¸‡ LINE Messaging API Channel à¹ƒà¸™ [LINE Developers Console](https://developers.line.biz/)
2. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Webhook URL à¹€à¸›à¹‡à¸™ `https://your-domain.vercel.app/api/webhook`
3. à¹€à¸›à¸´à¸”à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Webhook à¹à¸¥à¸° Reply messages

## ğŸ¤ à¸à¸²à¸£à¸¡à¸µà¸ªà¹ˆà¸§à¸™à¸£à¹ˆà¸§à¸¡

1. Fork repository
2. à¸ªà¸£à¹‰à¸²à¸‡ feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit à¸à¸²à¸£à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡ (`git commit -m 'Add some AmazingFeature'`)
4. Push à¹„à¸›à¸¢à¸±à¸‡ branch (`git push origin feature/AmazingFeature`)
5. à¸ªà¸£à¹‰à¸²à¸‡ Pull Request

## ğŸ“ à¸•à¸´à¸”à¸•à¹ˆà¸­

- GitHub: [@komkemkku](https://github.com/komkemkku)
- Repository: [Fuku-Maew-Khao](https://github.com/komkemkku/Fuku-Maew-Khao)

## ğŸ“„ License

MIT License - à¸”à¸¹à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¹ƒà¸™ [LICENSE](LICENSE) file

---

ğŸ± **à¸Ÿà¸¹à¸à¸¸à¹à¸¡à¸§à¸‚à¸²à¸§** - à¸œà¸¹à¹‰à¸Šà¹ˆà¸§à¸¢à¸à¸²à¸£à¹€à¸‡à¸´à¸™à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§à¸—à¸µà¹ˆà¸—à¸³à¹ƒà¸«à¹‰à¸Šà¸µà¸§à¸´à¸•à¸‡à¹ˆà¸²à¸¢à¸‚à¸¶à¹‰à¸™

Env Local
# LINE Bot Credentials
LINE_CHANNEL_SECRET="5cdf0acbed0785781f7aa2274084bb99"
LINE_CHANNEL_ACCESS_TOKEN="zly6dnJR49qQJXxddh/kPtHJTp2g+SsRwpcGSyHkJ2Ik4bSeAXRnW2pgJSgbBXkx3yJKZeWS6RfXSt9zhINcACyGwgxow+88hkDMFdsU0XLPed0Hxa0WqD8A3yKIyX23fwupmZUqn4aX3ghNzNUfJAdB04t89/1O/w1cDnyilFU="

# Database Credentials
DATABASE_URL="postgresql://postgres:062191Komkem@db.lammmeiltbozgvzjyajw.supabase.co:5432/postgres"

# Fuku-Maew-Khao
