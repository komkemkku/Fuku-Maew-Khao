# Environment Variables Template
# Copy this file to .env and fill in your actual values

# ==========================================
# üîê Required Configuration
# ==========================================

# LINE Bot Configuration (Get from LINE Developers Console)
LINE_CHANNEL_SECRET=your_32_character_channel_secret_here
LINE_CHANNEL_ACCESS_TOKEN=your_very_long_channel_access_token_here

# Database Configuration (PostgreSQL URL)
DATABASE_URL=postgresql://username:password@host:port/database_name

# Security Keys (Generate strong random strings)
MIGRATION_SECRET=your_secure_migration_secret_key_here
DEV_ACCESS_KEY=your_development_access_key_here
CRON_API_KEY=your_cron_api_authentication_key_here

# ==========================================
# üì± Optional Configuration
# ==========================================

# LIFF (LINE Front-end Framework) Configuration
NEXT_PUBLIC_LIFF_ID=your_liff_id_here

# Development & Testing
DEV_LINE_USER_ID=your_line_user_id_for_testing
LOG_LEVEL=info

# ==========================================
# üéõÔ∏è Feature Toggles
# ==========================================

# Enable/disable main features (true/false)
ENABLE_DAILY_NOTIFICATIONS=true
ENABLE_STICKER_RESPONSE=true
ENABLE_FORTUNE_SERVICE=true

# ==========================================
# ‚è∞ Notification Scheduling
# ==========================================

# Daily notification times (24-hour format)
MORNING_NOTIFICATION_TIME=07:00
EVENING_NOTIFICATION_TIME=20:00

# Weekly notification (day: monday, tuesday, etc.)
WEEKLY_NOTIFICATION_DAY=sunday
WEEKLY_NOTIFICATION_TIME=09:00

# ==========================================
# üé≤ Response Behavior
# ==========================================

# Probability settings (0.0 to 1.0)
SPECIAL_RESPONSE_CHANCE=0.15
STICKER_REPLY_CHANCE=0.7

# ==========================================
# üöÄ Production Configuration
# ==========================================

# These are automatically set by Vercel
# VERCEL_URL=your-app.vercel.app
# VERCEL_ENV=production
# NODE_ENV=production
# Security Keys (Required)
# ===========================================
# Secret key for migration operations
MIGRATION_SECRET="your_migration_secret_here"

# API key for development endpoints
DEV_ACCESS_KEY="your_dev_access_key_here"

# API key for cron job endpoints (prevents unauthorized access)
CRON_API_KEY="your_cron_api_key_here"

# ===========================================
# Developer Settings (Optional but recommended)
# ===========================================
# LINE User ID of the developer (for secret commands with auth)
# Get this by adding your bot as friend and checking logs
DEV_LINE_USER_ID="your_line_user_id_here"

# ===========================================
# Daily Notifications Configuration (Optional)
# ===========================================
# Enable/disable daily notification features
ENABLE_DAILY_NOTIFICATIONS="true"

# Notification timing (24-hour format)
MORNING_NOTIFICATION_TIME="08:00"
EVENING_NOTIFICATION_TIME="20:00"

# Weekly notification (0=Sunday, 1=Monday, ..., 6=Saturday)
WEEKLY_NOTIFICATION_DAY="0"
WEEKLY_NOTIFICATION_TIME="18:00"

# ===========================================
# Sticker Response Configuration (Optional)
# ===========================================
# Enable/disable sticker response features
ENABLE_STICKER_RESPONSE="true"

# Probability of special responses (0.0 to 1.0)
SPECIAL_RESPONSE_CHANCE="0.3"  # 30% chance for fortune response
STICKER_REPLY_CHANCE="0.2"     # 20% chance to reply with sticker

# ===========================================
# External API Configuration (Optional)
# ===========================================
# Cat API for ‡πÅ‡∏°‡∏ß‡∏ü‡∏£‡∏µ feature (works without API key but limited)
CAT_API_URL="https://api.thecatapi.com/v1/images/search"
CAT_API_KEY=""  # Optional - improves rate limits

# ===========================================
# Fortune Service Configuration (Optional)
# ===========================================
ENABLE_FORTUNE_SERVICE="true"
FORTUNE_TIMEZONE="Asia/Bangkok"

# ===========================================
# Security & Rate Limiting (Optional)
# ===========================================
# Maximum notifications per user per day
MAX_DAILY_NOTIFICATIONS_PER_USER="3"

# Rate limiting settings
RATE_LIMIT_WINDOW="3600"        # 1 hour in seconds
RATE_LIMIT_MAX_REQUESTS="100"   # Max requests per window

# ===========================================
# Feature Flags (Optional)
# ===========================================
# Disable secret commands in production if needed
DISABLE_SECRET_COMMANDS="false"

# Enable/disable various features
ENABLE_MEDIA_RESPONSES="true"
ENABLE_WELCOME_MESSAGES="true"

# ===========================================
# Logging & Monitoring (Optional)
# ===========================================
# Log level: debug, info, warn, error
LOG_LEVEL="info"

# Enable detailed logging for debugging
ENABLE_WEBHOOK_LOGGING="true"
ENABLE_NOTIFICATION_LOGGING="true"

# ===========================================
# Database Optimization (Optional)
# ===========================================
# How long to keep transaction history (days)
MAX_TRANSACTION_HISTORY_DAYS="365"

# Days to consider a user as "active"
ACTIVE_USER_DAYS_THRESHOLD="30"

# ===========================================
# Development/Production Environment
# ===========================================
# Automatically set by hosting providers
# NODE_ENV="development" or "production"

# ===========================================
# SETUP INSTRUCTIONS:
# ===========================================
# 1. Get LINE Bot credentials from LINE Developers Console
# 2. Set up Supabase or PostgreSQL database
# 3. Generate secure random strings for secrets
# 4. Get your LINE User ID by adding the bot and checking logs
# 5. Configure cron jobs for daily notifications (optional)
# 6. Test all features in development before deploying
#
# For detailed setup instructions, see: docs/SETUP.md
MIGRATION_SECRET=your_super_secret_migration_key_here

# Development Access
# ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô dev tools ‡πÅ‡∏•‡∏∞ demo data (dev only)
DEV_ACCESS_KEY=your_dev_access_key_here
